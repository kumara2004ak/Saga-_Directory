<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar Admin Settings</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 20px;
        }

        /* Header Buttons */
        .header-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .btn-primary {
            background: #49aa22;
            color: white;
        }

        .btn-primary:hover {
            background: #126401;
        }

        .btn-danger {
            background: #dc2626;
            color: white;
        }

        .btn-danger:hover {
            background: #b91c1c;
        }

        .btn-secondary {
            background: #6b7280;
            color: white;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }

        .btn-outline {
            background: white;
            color: #3b82f6;
            border: 1px solid #d1d5db;
        }

        .btn-outline:hover {
            background: #f3f4f6;
        }

        /* Form Controls */
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .form-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group label {
            font-weight: 500;
            color: #374151;
            white-space: nowrap;
        }

        .form-control {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 14px;
        }

        .form-control:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        /* Dropdown - No Animations */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-toggle {
            background: white;
            border: 1px solid #d1d5db;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 200px;
            justify-content: space-between;
            user-select: none;
        }

        .dropdown-toggle:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .dropdown-toggle.active {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .dropdown-arrow {
            font-size: 12px;
            color: #6b7280;
        }

        .dropdown-toggle.active .dropdown-arrow {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            z-index: 1000;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            padding: 10px 12px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            font-size: 14px;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: #f3f4f6;
        }

        .dropdown-item.selected {
            background: #eff6ff;
            color: #2563eb;
            font-weight: 500;
        }

        /* Toggle Buttons */
        .toggle-group {
            display: flex;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            overflow: hidden;
        }

        .toggle-btn {
            padding: 6px 12px;
            background: white;
            border: none;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
        }

        .toggle-btn.active {
            background: #059669;
            color: white;
        }

        .toggle-btn:not(.active):hover {
            background: #f3f4f6;
        }

        /* Count Display */
        .count-display {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: #374151;
        }

        .count-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Table */
        .table-container {
            margin-top: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }

        .table-header {
            background: #f9fafb;
            padding: 12px 16px;
            border-bottom: 1px solid #e5e7eb;
            display: grid;
            grid-template-columns: 60px 1fr 1fr 2fr 200px;
            gap: 16px;
            align-items: center;
            font-weight: 500;
            color: #374151;
        }

        .table-header .sortable {
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .table-header .sortable:hover {
            color: #3b82f6;
        }

        .filter-input {
            padding: 6px 10px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
        }

        .table-body {
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-style: italic;
        }

        /* Modal - No Animations */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            padding: 24px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }

        .close-btn:hover {
            background: #f3f4f6;
            color: #374151;
        }

        .modal-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .modal-form .form-group {
            flex-direction: column;
            align-items: flex-start;
            gap: 6px;
        }

        .modal-form .form-control {
            width: 100%;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px;
            }

            .header-buttons {
                flex-direction: column;
            }

            .form-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .form-group {
                width: 100%;
                flex-direction: column;
                align-items: flex-start;
            }

            .dropdown-toggle {
                min-width: 100%;
            }

            .table-header {
                grid-template-columns: 1fr;
                gap: 8px;
                text-align: center;
            }

            .table-header > * {
                padding: 4px 0;
                border-bottom: 1px solid #e5e7eb;
            }

            .table-header > *:last-child {
                border-bottom: none;
            }

            .modal-content {
                margin: 20px;
                width: calc(100% - 40px);
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .toggle-group {
                width: 100%;
            }

            .toggle-btn {
                flex: 1;
            }
        }

        /* Scroll Effects */
        .scroll-indicator {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: #3b82f6;
            z-index: 1001;
        }

        /* Hover Effects */
        .hover-card {
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .hover-card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        /* Dropdown overlay for mobile */
        .dropdown-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 999;
            display: none;
        }

        .dropdown-overlay.show {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen" id="app-container">
    <!-- Mobile sidebar backdrop -->
    <div id="sidebar-backdrop" class="fixed inset-0 z-20 bg-black/50 lg:hidden hidden"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="fixed inset-y-0 left-0 z-30 w-64 transform border-r border-gray-200 bg-white sidebar-transition -translate-x-full lg:static lg:translate-x-0">
      <div class="flex h-16 items-center justify-between border-b border-gray-200 px-4">
        <div class="flex items-center gap-2">
          <div class="flex h-8 w-8 items-center justify-center rounded-md bg-blue-600 text-white">
            <span class="text-lg font-bold">W</span>
          </div>
          <span class="text-lg font-semibold text-gray-800">Workspace Management</span>
        </div>
        <button id="close-sidebar" class="lg:hidden text-gray-500 hover:text-gray-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6 6 18"></path><path d="m6 6 12 12"></path>
          </svg>
          <span class="sr-only">Close sidebar</span>
        </button>
      </div>

      <nav class="flex flex-col gap-1 p-2">
        <div class="flex flex-col">
          <button id="workspace-toggle" class="flex items-center justify-between rounded-md px-3 py-2 text-sm font-medium transition-colors bg-gray-100 text-gray-900">
            <div class="flex items-center gap-3">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <span>Workspace Management</span>
            </div>
            <svg id="workspace-chevron" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="rotate-180">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </button>

        <div id="workspace-submenu" class="mt-1 space-y-1 pl-10">
         <nav class="mt-6">
            <div class="px-6 mb-4">
            </div>
            <ul class="space-y-1 px-3">
                <li>
                    <a href="Domain2.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100">
                        <i class="fas fa-home mr-3"></i>
                        Domain Management
                    </a>
                </li>
                <li>
                    <a href="index.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100">
                        <i class="fas fa-box mr-3"></i>
                        Email Admin Settings
                    </a>
                </li>
                <li>
                    <a href="ex.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100">
                        <i class="fas fa-dollar-sign mr-3"></i>
                        Drive Admin Settings
                    </a>
                </li>
                <li>
                    <a href="chat.html" class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100">
                        <i class="fas fa-shield-alt mr-3"></i>
                        Chat Meet Admin Settings
                    </a>
                </li>
                <li>
                    <a href="calendar.html" class="flex items-center px-3 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md hover:bg-gray-100">
                        <i class="fas fa-users mr-3"></i>
                        Calendar Admin Settings
                    </a>
                </li>
            </ul>
        </nav>
        </div>
        </div>
      </nav>

      <div class="absolute bottom-0 w-full border-t border-gray-200 p-4">
        <div class="flex items-center gap-3">
          <div class="h-10 w-10 rounded-md bg-gray-200"></div>
          <div class="flex-1 overflow-hidden">
            <p class="truncate text-sm font-medium text-gray-900">Acme Corporation</p>
            <p class="truncate text-xs text-gray-500">Enterprise Plan</p>
          </div>
          <button class="text-gray-500 hover:text-gray-700">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </button>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <div class="flex flex-1 flex-col overflow-hidden bg-gray-50">
      <!-- Top Navigation -->
      <header class="flex h-16 items-center justify-between border-b border-gray-200 bg-white px-4">
        <div class="flex items-center gap-4">
          <button id="open-sidebar" class="lg:hidden text-gray-600 hover:text-gray-900">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="4" x2="20" y1="12" y2="12"></line>
              <line x1="4" x2="20" y1="6" y2="6"></line>
              <line x1="4" x2="20" y1="18" y2="18"></line>
            </svg>
            <span class="sr-only">Open sidebar</span>
          </button>
          <h1 class="text-xl font-semibold text-gray-800">Calendar Admin Settings</h1>
        </div>

        <div class="flex items-center gap-3">
          <div class="relative hidden md:block">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-2.5 top-2.5 h-4 w-4 text-gray-500">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.3-4.3"></path>
            </svg>
            <input type="search" placeholder="Search..." class="h-10 rounded-md border border-gray-200 bg-white pl-8 pr-4 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500">
          </div>

          <div class="relative">
            <button id="notifications-button" class="text-gray-600 hover:text-gray-900 relative">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
                <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
              </svg>
              <span class="absolute right-1 top-1 h-2 w-2 rounded-full bg-red-500"></span>
              <span class="sr-only">Notifications</span>
            </button>

            <!-- Notifications Panel -->
            <div id="notifications-panel" class="absolute right-0 top-12 z-50 w-80 transform rounded-md border border-gray-200 bg-white shadow-lg translate-y-2 opacity-0 pointer-events-none md:w-96">
              <div class="flex items-center justify-between border-b border-gray-200 p-4">
                <h3 class="font-medium text-gray-900">Notifications</h3>
                <button id="close-notifications" class="text-gray-500 hover:text-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 6 6 18"></path><path d="m6 6 12 12"></path>
                  </svg>
                  <span class="sr-only">Close</span>
                </button>
              </div>

              <div class="max-h-[60vh] overflow-y-auto p-2 hide-scrollbar">
                <div class="space-y-2" id="notifications-list">
                  <!-- Notifications will be inserted here by JavaScript -->
                </div>
              </div>

              <div class="flex items-center justify-between border-t border-gray-200 p-3">
                <button id="mark-all-read" class="text-sm text-gray-600 hover:text-gray-900">
                  Mark all as read
                </button>
                <button id="clear-all" class="text-sm text-red-500 hover:text-red-600">
                  Clear all
                </button>
              </div>
            </div>
          </div>

          <button class="flex items-center gap-2 text-gray-700">
            <div class="h-8 w-8 rounded-full bg-gray-200"></div>
            <span class="hidden text-sm font-medium md:inline-block">
              Admin User
            </span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </button>
        </div>
      </header>

      <!-- Main Content Area -->
      <main class="flex-1 overflow-auto p-4 md:p-6">
        <div class="mx-auto max-w-6xl">
             <header class="mb-8">
      <h1 class="text-2xl font-bold text-gray-800 mb-2">Calendar Admin Settings</h1>
      <p class="text-gray-600">Configure calendar admin settings</p>
    </header>
    <!-- Scroll Indicator -->
    <div class="scroll-indicator" id="scrollIndicator"></div>

    <!-- Dropdown Overlay -->
    <div class="dropdown-overlay" id="dropdownOverlay"></div>

    <div class="container hover-card">
        <!-- Header Buttons -->
        <div class="header-buttons">
            <button class="btn btn-primary" id="newEventBtn">
                <span>Add Event</span> 
            </button>
            <button class="btn btn-danger" id="exportBtn">
                <span>Export Events</span> 
            </button>
            <button class="btn btn-outline" id="loadBtn">
                <span>Upload Calendar</span> 
            </button>
            <button class="btn btn-secondary" id="deleteBtn">
                <span>Delete</span> 
            </button>
        </div>

        <!-- Form Controls -->
        <div class="form-row">
            <div class="form-group">
                <label>Timezone:</label>
                <div class="dropdown" id="timezoneDropdown">
                    <div class="dropdown-toggle">
                        <span class="dropdown-text">+05:30 India Standard Time</span>
                        <span class="dropdown-arrow">▼</span>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-item selected" data-value="+05:30">+05:30 India Standard Time</div>
                        <div class="dropdown-item" data-value="+00:00">+00:00 UTC</div>
                        <div class="dropdown-item" data-value="-05:00">-05:00 Eastern Time</div>
                        <div class="dropdown-item" data-value="-08:00">-08:00 Pacific Time</div>
                        <div class="dropdown-item" data-value="+01:00">+01:00 Central European Time</div>
                        <div class="dropdown-item" data-value="+09:00">+09:00 Japan Standard Time</div>
                        <div class="dropdown-item" data-value="+10:00">+10:00 Australian Eastern Time</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>File Name:</label>
                <input type="text" class="form-control" value="Ak" id="fileName">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Date Format:</label>
                <div class="dropdown" id="dateFormatDropdown">
                    <div class="dropdown-toggle">
                        <span class="dropdown-text">MM/DD/YYYY</span>
                        <span class="dropdown-arrow">▼</span>
                    </div>
                    <div class="dropdown-menu">
                        <div class="dropdown-item selected" data-value="MM/DD/YYYY">MM/DD/YYYY</div>
                        <div class="dropdown-item" data-value="DD/MM/YYYY">DD/MM/YYYY</div>
                        <div class="dropdown-item" data-value="YYYY-MM-DD">YYYY-MM-DD</div>
                        <div class="dropdown-item" data-value="DD-MM-YYYY">DD-MM-YYYY</div>
                        <div class="dropdown-item" data-value="MM-DD-YYYY">MM-DD-YYYY</div>
                        <div class="dropdown-item" data-value="YYYY/MM/DD">YYYY/MM/DD</div>
                    </div>
                </div>
            </div>

            <div class="toggle-group">
                <button class="toggle-btn active" id="toggle12h">12H</button>
                <button class="toggle-btn" id="toggle24h">24H</button>
            </div>

        </div>

        <!-- Table -->
        <div class="table-container">
            <div class="table-header">
                <div>All</div>
                <div class="sortable" id="sortDate">
                    Date <span>↕</span>
                </div>
                <div>Date End</div>
                <div>Title</div>
                <input type="text" class="filter-input" placeholder="Filter" id="filterInput">
            </div>
            <div class="table-body flex-col" id="tableBody">
                <div style="display: grid; grid-template-columns: 60px 1fr 1fr 2fr 200px; gap: 16px; padding: 12px 16px; border-bottom: 1px solid #e5e7eb; align-items: center;">
                    <input type="checkbox" style="margin: 0;" data-event-id="1748778651227">
                    <div>06/14/2025, 5:20 PM</div>
                    <div>06/15/2025, 5:20 PM</div>
                    <div>
                        <div style="font-weight: 500;">Ak</div>
                        <div style="font-size: 12px; color: #6b7280;">📍 bc</div>
                        <div style="font-size: 11px; color: #6b7280; text-transform: uppercase;">meeting</div>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;" onclick="editEvent(1748778651227)">Edit</button>
                        <button class="btn btn-danger" style="padding: 4px 8px; font-size: 12px;" onclick="deleteEvent(1748778651227)">Delete</button>
                    </div>
                </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- New Event Modal -->
    <div class="modal" id="newEventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Event</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <form class="modal-form" id="eventForm">
                <div class="form-group">
                    <label for="eventTitle">Event Title:</label>
                    <input type="text" class="form-control" id="eventTitle" required>
                </div>
                <div class="form-group">
                    <label for="eventDate">Start Date:</label>
                    <input type="datetime-local" class="form-control" id="eventDate" required>
                </div>
                <div class="form-group">
                    <label for="eventEndDate">End Date:</label>
                    <input type="datetime-local" class="form-control" id="eventEndDate">
                </div>
                <div class="form-group">
                    <label for="eventDescription">Description:</label>
                    <textarea class="form-control" id="eventDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="eventLocation">Location:</label>
                    <input type="text" class="form-control" id="eventLocation">
                </div>
                <div class="form-group">
                    <label for="eventCategory">Category:</label>
                    <select class="form-control" id="eventCategory">
                        <option value="meeting">Meeting</option>
                        <option value="appointment">Appointment</option>
                        <option value="reminder">Reminder</option>
                        <option value="personal">Personal</option>
                        <option value="work">Work</option>
                    </select>
                </div>
            </form>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                <button type="submit" class="btn btn-primary" id="saveEventBtn">Save Event</button>
            </div>
        </div>
    </div>
        </div>
      </main>
    </div>
  </div>

    <script>
        // Global variables
        let events = [];
        let currentSort = { field: 'date', direction: 'asc' };
        let currentTimezone = '+05:30 India Standard Time';
        let currentDateFormat = 'MM/DD/YYYY';
        let timeFormat = '12H';

        // DOM Elements
        const newEventBtn = document.getElementById('newEventBtn');
        const newEventModal = document.getElementById('newEventModal');
        const closeModal = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const saveEventBtn = document.getElementById('saveEventBtn');
        const eventForm = document.getElementById('eventForm');
        const tableBody = document.getElementById('tableBody');
        const filterInput = document.getElementById('filterInput');
        const scrollIndicator = document.getElementById('scrollIndicator');
        const dropdownOverlay = document.getElementById('dropdownOverlay');

        // Scroll indicator
        window.addEventListener('scroll', () => {
            const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            scrollIndicator.style.width = Math.max(0, Math.min(100, scrolled)) + '%';
        });

        // Enhanced Dropdown functionality
        function initDropdowns() {
            const dropdowns = document.querySelectorAll('.dropdown');
            
            dropdowns.forEach(dropdown => {
                const toggle = dropdown.querySelector('.dropdown-toggle');
                const menu = dropdown.querySelector('.dropdown-menu');
                const items = dropdown.querySelectorAll('.dropdown-item');
                const text = dropdown.querySelector('.dropdown-text');
                const arrow = dropdown.querySelector('.dropdown-arrow');
                
                // Toggle dropdown
                toggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Close other dropdowns
                    closeAllDropdowns();
                    
                    // Toggle current dropdown
                    const isOpen = menu.classList.contains('show');
                    if (!isOpen) {
                        openDropdown(dropdown);
                    }
                });
                
                // Handle item selection
                items.forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        // Remove selected class from all items
                        items.forEach(i => i.classList.remove('selected'));
                        
                        // Add selected class to clicked item
                        item.classList.add('selected');
                        
                        // Update display text
                        const selectedText = item.textContent.trim();
                        text.textContent = selectedText;
                        
                        // Store the value
                        const value = item.getAttribute('data-value') || selectedText;
                        dropdown.setAttribute('data-selected', value);
                        
                        // Close dropdown
                        closeDropdown(dropdown);
                        
                        // Trigger change event
                        handleDropdownChange(dropdown.id, value, selectedText);
                    });
                    
                    // Hover effects
                    item.addEventListener('mouseenter', () => {
                        items.forEach(i => i.style.background = '');
                        item.style.background = '#f3f4f6';
                    });
                    
                    item.addEventListener('mouseleave', () => {
                        if (!item.classList.contains('selected')) {
                            item.style.background = '';
                        }
                    });
                });
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.dropdown')) {
                    closeAllDropdowns();
                }
            });
            
            // Close dropdowns on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeAllDropdowns();
                }
            });
            
            // Handle overlay click
            dropdownOverlay.addEventListener('click', closeAllDropdowns);
        }

        function openDropdown(dropdown) {
            const toggle = dropdown.querySelector('.dropdown-toggle');
            const menu = dropdown.querySelector('.dropdown-menu');
            
            toggle.classList.add('active');
            menu.classList.add('show');
            dropdownOverlay.classList.add('show');
            
            // Focus management for accessibility
            const firstItem = menu.querySelector('.dropdown-item');
            if (firstItem) {
                firstItem.focus();
            }
        }

        function closeDropdown(dropdown) {
            const toggle = dropdown.querySelector('.dropdown-toggle');
            const menu = dropdown.querySelector('.dropdown-menu');
            
            toggle.classList.remove('active');
            menu.classList.remove('show');
        }

        function closeAllDropdowns() {
            const dropdowns = document.querySelectorAll('.dropdown');
            dropdowns.forEach(dropdown => {
                closeDropdown(dropdown);
            });
            dropdownOverlay.classList.remove('show');
        }

        function handleDropdownChange(dropdownId, value, text) {
            console.log(`Dropdown ${dropdownId} changed to: ${value} (${text})`);
            
            switch(dropdownId) {
                case 'timezoneDropdown':
                    currentTimezone = text;
                    console.log('Timezone changed to:', currentTimezone);
                    break;
                case 'dateFormatDropdown':
                    currentDateFormat = value;
                    console.log('Date format changed to:', currentDateFormat);
                    renderEvents(); // Re-render events with new date format
                    break;
            }
        }

        // Toggle buttons
        function initToggleButtons() {
            const toggle12h = document.getElementById('toggle12h');
            const toggle24h = document.getElementById('toggle24h');
            
            toggle12h.addEventListener('click', () => {
                toggle12h.classList.add('active');
                toggle24h.classList.remove('active');
                timeFormat = '12H';
                renderEvents(); // Re-render with new time format
            });
            
            toggle24h.addEventListener('click', () => {
                toggle24h.classList.add('active');
                toggle12h.classList.remove('active');
                timeFormat = '24H';
                renderEvents(); // Re-render with new time format
            });
        }

        // Modal functionality
        function openModal() {
            newEventModal.classList.add('show');
            document.body.style.overflow = 'hidden';
            document.getElementById('eventTitle').focus();
        }

        function closeModalFunc() {
            newEventModal.classList.remove('show');
            document.body.style.overflow = 'auto';
            eventForm.reset();
            delete eventForm.dataset.editingId;
        }

        // Event management
        function addEvent(eventData) {
            const event = {
                id: Date.now(),
                title: eventData.title,
                startDate: new Date(eventData.startDate),
                endDate: eventData.endDate ? new Date(eventData.endDate) : null,
                description: eventData.description,
                location: eventData.location,
                category: eventData.category,
                completed: false
            };
            
            events.push(event);
            renderEvents();
            updateCounts();
        }


        function renderEvents() {
            if (events.length === 0) {
                tableBody.innerHTML = '<div style="padding: 40px; text-align: center; color: #6b7280;">No events found. Click "New" to create your first event.</div>';
                return;
            }

            const filteredEvents = filterEvents();
            const sortedEvents = sortEvents(filteredEvents);
            
            tableBody.innerHTML = sortedEvents.map(event => `
                <div style="display: grid; grid-template-columns: 60px 1fr 1fr 2fr 200px; gap: 16px; padding: 12px 16px; border-bottom: 1px solid #e5e7eb; align-items: center;">
                    <input type="checkbox" style="margin: 0;" data-event-id="${event.id}">
                    <div>${formatDate(event.startDate)}</div>
                    <div>${event.endDate ? formatDate(event.endDate) : '-'}</div>
                    <div>
                        <div style="font-weight: 500;">${event.title}</div>
                        ${event.location ? `<div style="font-size: 12px; color: #6b7280;">📍 ${event.location}</div>` : ''}
                        ${event.category ? `<div style="font-size: 11px; color: #6b7280; text-transform: uppercase;">${event.category}</div>` : ''}
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-outline" style="padding: 4px 8px; font-size: 12px;" onclick="editEvent(${event.id})">Edit</button>
                        <button class="btn btn-danger" style="padding: 4px 8px; font-size: 12px;" onclick="deleteEvent(${event.id})">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function filterEvents() {
            const filterText = filterInput.value.toLowerCase();
            if (!filterText) return events;
            
            return events.filter(event => 
                event.title.toLowerCase().includes(filterText) ||
                (event.description && event.description.toLowerCase().includes(filterText)) ||
                (event.location && event.location.toLowerCase().includes(filterText)) ||
                (event.category && event.category.toLowerCase().includes(filterText))
            );
        }

        function sortEvents(eventsToSort) {
            return [...eventsToSort].sort((a, b) => {
                let aValue = a[currentSort.field];
                let bValue = b[currentSort.field];
                
                if (currentSort.field === 'date') {
                    aValue = a.startDate;
                    bValue = b.startDate;
                }
                
                if (aValue < bValue) return currentSort.direction === 'asc' ? -1 : 1;
                if (aValue > bValue) return currentSort.direction === 'asc' ? 1 : -1;
                return 0;
            });
        }

        function formatDate(date) {
            const options = { 
                year: 'numeric', 
                month: '2-digit', 
                day: '2-digit',
                hour: timeFormat === '12H' ? 'numeric' : '2-digit',
                minute: '2-digit',
                hour12: timeFormat === '12H'
            };
            
            let formatted = date.toLocaleDateString('en-US', options);
            
            // Apply date format
            if (currentDateFormat === 'DD/MM/YYYY') {
                const parts = formatted.split(',');
                if (parts.length >= 2) {
                    const datePart = parts[0].split('/');
                    if (datePart.length === 3) {
                        formatted = `${datePart[1]}/${datePart[0]}/${datePart[2]}${parts[1]}`;
                    }
                }
            }
            
            return formatted;
        }

        function updateCounts() {
            document.getElementById('totalCount').textContent = events.length;
            document.getElementById('eventCount').textContent = events.length;
            document.getElementById('completedCount').textContent = events.filter(e => e.completed).length;
        }

        function deleteEvent(id) {
            if (confirm('Are you sure you want to delete this event?')) {
                events = events.filter(event => event.id !== id);
                renderEvents();
                updateCounts();
            }
        }

        function editEvent(id) {
            const event = events.find(e => e.id === id);
            if (event) {
                document.getElementById('eventTitle').value = event.title;
                document.getElementById('eventDate').value = event.startDate.toISOString().slice(0, 16);
                if (event.endDate) {
                    document.getElementById('eventEndDate').value = event.endDate.toISOString().slice(0, 16);
                }
                document.getElementById('eventDescription').value = event.description || '';
                document.getElementById('eventLocation').value = event.location || '';
                document.getElementById('eventCategory').value = event.category || 'meeting';
                
                // Store the ID for updating
                eventForm.dataset.editingId = id;
                openModal();
            }
        }

        // Event listeners
        newEventBtn.addEventListener('click', openModal);
        closeModal.addEventListener('click', closeModalFunc);
        cancelBtn.addEventListener('click', closeModalFunc);

        // Close modal when clicking outside
        newEventModal.addEventListener('click', (e) => {
            if (e.target === newEventModal) {
                closeModalFunc();
            }
        });

        // Form submission
        saveEventBtn.addEventListener('click', (e) => {
            e.preventDefault();
            
            const eventData = {
                title: document.getElementById('eventTitle').value,
                startDate: document.getElementById('eventDate').value,
                endDate: document.getElementById('eventEndDate').value,
                description: document.getElementById('eventDescription').value,
                location: document.getElementById('eventLocation').value,
                category: document.getElementById('eventCategory').value
            };
            
            if (!eventData.title || !eventData.startDate) {
                alert('Please fill in the required fields (Title and Start Date)');
                return;
            }
            
            if (eventForm.dataset.editingId) {
                // Update existing event
                const id = parseInt(eventForm.dataset.editingId);
                const eventIndex = events.findIndex(e => e.id === id);
                if (eventIndex !== -1) {
                    events[eventIndex] = {
                        ...events[eventIndex],
                        title: eventData.title,
                        startDate: new Date(eventData.startDate),
                        endDate: eventData.endDate ? new Date(eventData.endDate) : null,
                        description: eventData.description,
                        location: eventData.location,
                        category: eventData.category
                    };
                }
                delete eventForm.dataset.editingId;
            } else {
                // Add new event
                addEvent(eventData);
            }
            
            closeModalFunc();
        });

        // Filter functionality
        filterInput.addEventListener('input', renderEvents);

        // Sort functionality
        document.getElementById('sortDate').addEventListener('click', () => {
            if (currentSort.field === 'date') {
                currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
            } else {
                currentSort.field = 'date';
                currentSort.direction = 'asc';
            }
            renderEvents();
        });

        // Button click handlers
        document.getElementById('exportBtn').addEventListener('click', () => {
            if (events.length === 0) {
                alert('No events to export');
                return;
            }
            alert(`Exporting ${events.length} events...`);
        });

        document.getElementById('loadBtn').addEventListener('click', () => {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.ics';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    alert(`Loading file: ${file.name}`);
                }
            };
            input.click();
        });

        document.getElementById('deleteBtn').addEventListener('click', () => {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
            if (checkboxes.length === 0) {
                alert('Please select events to delete');
                return;
            }
            if (confirm(`Delete ${checkboxes.length} selected event(s)?`)) {
                checkboxes.forEach(checkbox => {
                    const eventId = parseInt(checkbox.getAttribute('data-event-id'));
                    events = events.filter(event => event.id !== eventId);
                });
                renderEvents();
                updateCounts();
            }
        });

        document.getElementById('optionsBtn').addEventListener('click', () => {
            alert('Options panel would open here');
        });

        document.getElementById('hideDetailBtn').addEventListener('click', function() {
            this.textContent = this.textContent === 'Hide Detail' ? 'Show Detail' : 'Hide Detail';
            this.classList.toggle('btn-primary');
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'n') {
                e.preventDefault();
                openModal();
            }
            if (e.key === 'Escape') {
                if (newEventModal.classList.contains('show')) {
                    closeModalFunc();
                } else {
                    closeAllDropdowns();
                }
            }
        });

        // Initialize
        initDropdowns();
        initToggleButtons();
        renderEvents();
        updateCounts();

        // Add some sample events for demonstration
        setTimeout(() => {
            addEvent({
                title: 'Team Meeting',
                startDate: new Date().toISOString().slice(0, 16),
                endDate: new Date(Date.now() + 3600000).toISOString().slice(0, 16),
                description: 'Weekly team sync',
                location: 'Conference Room A',
                category: 'meeting'
            });
            
            addEvent({
                title: 'Project Deadline',
                startDate: new Date(Date.now() + 86400000).toISOString().slice(0, 16),
                endDate: '',
                description: 'Final submission',
                location: '',
                category: 'work'
            });
        }, 1000);

        console.log('Event Manager initialized successfully!');
    </script>
</body>
</html>